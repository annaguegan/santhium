# ============================================
# SANTHIUM - Variables d'environnement
# ============================================
# Copier ce fichier en .env et modifier les valeurs
# ATTENTION: Ne jamais commiter le fichier .env sur Git!

# ============================================
# ENVIRONNEMENT
# ============================================
ENVIRONMENT=development
# Options: development, staging, production

# ============================================
# BASE DE DONNÉES POSTGRESQL
# ============================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=santhium_db
DB_USER=santhium_user
DB_PASSWORD=changeme_secure_password_here_min_16_chars

# URL complète (alternative)
DATABASE_URL=postgresql://santhium_user:changeme_secure_password_here_min_16_chars@postgres:5432/santhium_db

# ============================================
# SÉCURITÉ & AUTHENTIFICATION
# ============================================
# Clé secrète pour JWT (générer avec: openssl rand -hex 32)
SECRET_KEY=your-very-secret-key-change-in-production-min-32-chars

# Clé pour les tokens JWT
JWT_SECRET_KEY=another-secret-key-for-jwt-tokens-min-32-chars

# Algorithme de signature JWT
ALGORITHM=HS256

# Durée de validité des tokens (en minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# CHIFFREMENT DES FICHIERS
# ============================================
# Clé de chiffrement AES (générer avec: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
ENCRYPTION_KEY=your-32-bytes-base64-encryption-key-here

# ============================================
# FRONTEND REACT
# ============================================
REACT_APP_API_URL=http://localhost:8000
REACT_APP_ENVIRONMENT=development
REACT_APP_VERSION=1.0.0

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================
# Domaines autorisés (séparés par des virgules, sans espace)
CORS_ORIGINS=http://localhost:3000,http://localhost:80,http://localhost

# ============================================
# GESTION DES FICHIERS
# ============================================
# Taille maximale des fichiers en Mo
MAX_FILE_SIZE_MB=10

# Extensions autorisées (séparées par des virgules)
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,doc,docx

# Dossier de stockage temporaire
UPLOAD_FOLDER=/app/uploads

# ============================================
# CONFORMITÉ RGPD/HDS
# ============================================
# Durée de conservation des données en jours
DATA_RETENTION_DAYS=30

# Suppression automatique après expiration
AUTO_DELETE_ENABLED=true

# Durée de validité des codes/QR codes (en heures)
CODE_EXPIRATION_HOURS=24

# ============================================
# REDIS (Cache et Sessions)
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
# URL complète
REDIS_URL=redis://redis:6379/0

# ============================================
# EMAIL / SMTP (Notifications)
# ============================================
SMTP_ENABLED=false
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USER=noreply@santhium.com
SMTP_PASSWORD=your_smtp_password_here
SMTP_FROM_EMAIL=noreply@santhium.com
SMTP_FROM_NAME=Santhium

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

LOG_FILE=/app/logs/santhium.log

# ============================================
# RATE LIMITING
# ============================================
# Nombre maximum de requêtes par minute par IP
RATE_LIMIT_PER_MINUTE=60

# Nombre maximum d'uploads par heure par code
MAX_UPLOADS_PER_CODE=5

# ============================================
# SÉCURITÉ ADDITIONNELLE
# ============================================
# Activer HTTPS uniquement en production
FORCE_HTTPS=false

# Salt pour les hashs (générer avec: openssl rand -hex 16)
PASSWORD_SALT=your-random-salt-here

# Nombre d'itérations pour bcrypt
BCRYPT_ROUNDS=12

# ============================================
# MONITORING & HEALTHCHECK
# ============================================
HEALTHCHECK_ENABLED=true
METRICS_ENABLED=false

# ============================================
# MULTI-TENANT
# ============================================
# Activer le mode multi-tenant
MULTI_TENANT_ENABLED=true

# ============================================
# DÉVELOPPEMENT UNIQUEMENT
# ============================================
# Désactiver en production!
DEBUG=true
RELOAD=true

# ============================================
# BACKUP
# ============================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
# Format cron: minute heure jour mois jour_semaine
# Exemple: 0 2 * * * = tous les jours à 2h du matin

BACKUP_RETENTION_DAYS=7
BACKUP_LOCATION=/backups

# ============================================
# NOTIFICATIONS
# ============================================
# Notifications par email lors d'un upload
NOTIFY_ON_UPLOAD=true

# Notifications lors d'expiration de code
NOTIFY_ON_CODE_EXPIRATION=false

# ============================================
# ANALYTICS (Optionnel)
# ============================================
ANALYTICS_ENABLED=false
ANALYTICS_TRACKING_ID=

# ============================================
# NOTES IMPORTANTES
# ============================================
# 1. Changer TOUS les mots de passe et clés secrètes en production
# 2. Utiliser un gestionnaire de secrets en production (AWS Secrets Manager, Azure Key Vault, etc.)
# 3. Ne JAMAIS commiter le fichier .env dans Git
# 4. Ajouter .env dans .gitignore
# 5. Vérifier les permissions sur le fichier .env (chmod 600 .env)
